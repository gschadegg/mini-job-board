(this["webpackJsonpjob-board"]=this["webpackJsonpjob-board"]||[]).push([[0],{63:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(12),s=c.n(r),o=c(10),l=c(2),i=c(5),j=c(11),u=c.n(j),b=c(17),d=c(28),O=c.n(d),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE":return e=t.data;case"CREATE":var c=[].concat(Object(i.a)(e),[t.data]);return e=c.sort((function(e,t){return e.featured||t.featured?e.featured===t.featured?0:e.featured?-1:1:e.new===t.new?0:e.new?-1:1}));default:return e}},x=c(0),f=function(e){var t=e.toggleForm;return Object(x.jsx)("header",{children:Object(x.jsx)("section",{className:"flex justify-end content-center max-w-5xl mx-auto px-6 xl:px-0 h-24",children:Object(x.jsx)("button",{className:"self-center h-12 bg-cyanCustom-light bg-opacity-80 text-cyanCustom font-bold rounded-md px-4 py-1 hover:bg-opacity-100 transition-colors",onClick:t,children:"Create Job Posting"})})})},m=c(29),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FILTER":return-1!==e.indexOf(t.data)?e:[].concat(Object(i.a)(e),[t.data]);case"REMOVE_FILTER":return e=e.filter((function(e){return e!==t.data}));case"CLEAR_ALL_FILTERS":return e=[];default:return e}},g=function(e){var t=e.title,c=Object(l.b)();return Object(x.jsxs)("section",{className:"tag-filter-container group",onClick:function(){return function(e){c({type:"REMOVE_FILTER",data:e.title})}({title:t})},children:[Object(x.jsx)("div",{className:"tag tag--active",children:t})," ",Object(x.jsx)("span",{children:Object(x.jsx)("img",{src:"../images/icon-remove.svg",alt:"remove filter"})})]})},v=function(){var e=Object(l.c)((function(e){return e.filter})),t=Object(l.b)(),c="Click on tags to filter positions";e.length>0&&(c=e.map((function(e){return Object(x.jsx)(g,{title:e})})));return Object(x.jsxs)("article",{className:"filter-container",children:[Object(x.jsx)("section",{className:"filter-list",children:c}),Object(x.jsx)("button",{className:"btn--clear",onClick:function(){t({type:"CLEAR_ALL_FILTERS",data:null})},children:"Clear"})]})},y=function(e){var t=e.title,c=Object(l.b)();return Object(x.jsx)("li",{onClick:function(){return function(e){c(function(e){return{type:"ADD_FILTER",data:e.title}}(e))}({title:t})},className:"tag",children:t})},N=c(18),k=c.n(N),w=c(30),E=c.n(w),C=function(e){var t=e.job;k.a.extend(E.a);var c,n=k()(t.postedAt).fromNow(!0),a=[t.role,t.level].concat(Object(i.a)(t.languages),Object(i.a)(t.tools));return a.length>0&&(c=a.map((function(e,t){return Object(x.jsx)(y,{title:e},t)}))),Object(x.jsxs)("article",{className:"job ".concat(t.featured?"featured":""),children:[Object(x.jsxs)("section",{className:"job-details",children:[Object(x.jsx)("img",{src:".".concat(t.logo),alt:"".concat(t.company," logo"),height:"88",width:"88"}),Object(x.jsxs)("section",{children:[Object(x.jsxs)("section",{className:"job-details--top",children:[Object(x.jsx)("div",{className:"job-details--company",children:t.company})," ",t.new?Object(x.jsx)("div",{className:"badge badge--new",children:"NEW!"}):null," ",t.featured?Object(x.jsx)("div",{className:"badge badge--featured",children:"FEATURED"}):null]}),t.position,Object(x.jsxs)("section",{className:"job-details--btm",children:["".concat(n," ago")," ",Object(x.jsx)("span",{children:"\u2022"})," ",t.contract," ",Object(x.jsx)("span",{children:"\u2022"})," ",t.location]})]})]}),Object(x.jsx)("section",{className:"tag-container",children:Object(x.jsx)("ul",{className:"tag-list",children:c})})]})},S=function(e){var t,c=e.noScroll,n=Object(l.c)((function(e){return e.jobs})),a=Object(l.c)((function(e){return e.filter})),r=n;return n&&(a.length>0&&(r=n.reduce((function(e,t){return function(e,t){var c,n=Object(m.a)(t);try{for(n.s();!(c=n.n()).done;){var a=c.value;if(-1===e.indexOf(a))return!1}}catch(r){n.e(r)}finally{n.f()}return!0}([t.role,t.level].concat(Object(i.a)(t.languages),Object(i.a)(t.tools)),a)&&e.push(t),e}),[])),t=r.map((function(e,t){return Object(x.jsx)(C,{id:e._id,job:e},e._id?e._id:t)}))),Object(x.jsxs)("main",{className:"jobs-list ".concat(c?"noScroll":""),children:[Object(x.jsx)(v,{}),Object(x.jsx)("article",{className:"job-container",children:t})]})},L=c(4),A=c(6),R=function(e){var t=Object(n.useState)(""),c=Object(o.a)(t,2),a=c[0],r=c[1];return{type:e,value:a,onChange:function(t){"checkbox"===e?r(t.target.checked):(r(t.target.value),t.target.classList.remove("error"))},clear:function(){r("")}}},T=function(e){var t=e.name,c=e.settings;return Object(x.jsxs)("div",{className:"text-input",children:[Object(x.jsx)("label",{children:t}),Object(x.jsx)("input",Object(L.a)(Object(L.a)({className:""},c),{},{name:t.toLowerCase()}))]})},F=function(e){var t=e.name,c=e.settings,n=e.options;return Object(x.jsxs)("div",{className:"select",children:[Object(x.jsx)("label",{children:t}),Object(x.jsxs)("select",Object(L.a)(Object(L.a)({name:t.toLowerCase()},c),{},{className:"",children:[Object(x.jsx)("option",{children:"--select one--"}),n.map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},t)}))]}))]})},I=function(e){var t,c,n=e.show,a=e.toggleForm,r=e.setNotification,s=Object(l.b)(),o=Object(l.c)((function(e){return e.jobs})),i=[],j=R("select"),d=j.clear,O=Object(A.a)(j,["clear"]),h=R("checkbox"),f=h.clear,m=Object(A.a)(h,["clear"]),p=R("checkbox"),g=(p.clear,Object(A.a)(p,["clear"])),v=R("text"),y=v.clear,N=Object(A.a)(v,["clear"]),k=R("select"),w=k.clear,E=Object(A.a)(k,["clear"]),C=R("select"),S=C.clear,I=Object(A.a)(C,["clear"]),_=R("select"),D=_.clear,J=Object(A.a)(_,["clear"]),P=R("select"),M=P.clear,q=Object(A.a)(P,["clear"]);O.value&&o&&(c=o.find((function(e){return e.company===O.value})))&&(t=c.logo),o&&(i=o.map((function(e){return-1===i.indexOf(e.company)&&e.company})));var W=function(){document.querySelectorAll("input[type=checkbox]:checked").forEach((function(e){e.checked=!1})),document.querySelectorAll(".error").forEach((function(e){e.classList.remove("error")})),t=null,c=null,d(),f(),y(),w(),S(),D(),M()},U=function(){W(),a()};return Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c=[];document.querySelectorAll(".tool-checkboxes input[type=checkbox]:checked").forEach((function(e){c.push(e.value)}));var n=[];document.querySelectorAll(".language-checkboxes input[type=checkbox]:checked").forEach((function(e){n.push(e.value)}));var o,l={company:O.value,position:N.value,role:E.value,level:I.value,contract:J.value,location:q.value};try{!function(e){var t;for(var c in e)(e[c].length<1||void 0===e[c])&&(document.querySelector("[name=".concat(c)).classList.add("error"),t=!0);if(t)throw Error("Please fill out all highlighted fields")}(l),l=Object(L.a)(Object(L.a)({},l),{},{logo:t,languages:n,tools:c,featured:g.value,new:m.value}),s((o=l,function(){var e=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CREATE",data:o});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),W(),a(),r(["success","Your Job Posting has been created!"])}catch(i){r(["error",i.message])}},className:"create-form ".concat(n?"show":""),children:[Object(x.jsxs)("section",{className:"flex justify-between",children:[Object(x.jsx)("h2",{children:"Create Job Posting"}),Object(x.jsx)("div",{className:"btn--close--x",onClick:U,children:"X"})]}),Object(x.jsxs)("section",{className:"flex flex-wrap mt-8",children:[Object(x.jsx)(F,{name:"Company",settings:O,options:i}),t?Object(x.jsx)("img",{src:t,className:"self-center mr-8",alt:"company logo",width:"60px",height:"60px"}):null,Object(x.jsxs)("div",{className:"checkbox-single",children:[Object(x.jsx)("label",{children:"Featured"}),Object(x.jsx)("input",Object(L.a)(Object(L.a)({name:"featured",type:"checkbox"},g),{},{value:"featured"}))]}),Object(x.jsxs)("div",{className:"checkbox-single",children:[Object(x.jsx)("label",{children:"New"}),Object(x.jsx)("input",Object(L.a)(Object(L.a)({name:"new",type:"checkbox"},m),{},{value:"new"}))]}),Object(x.jsx)(T,{name:"Position",settings:N}),Object(x.jsx)(F,{name:"Role",settings:E,options:["Frontend","Backend","Fullstack"]}),Object(x.jsx)(F,{name:"Level",settings:I,options:["Junior","Midweight","Senior"]}),Object(x.jsx)(F,{name:"Location",settings:q,options:["WorldWide","USA Only","UK Only","Remote"]}),Object(x.jsx)(F,{name:"Contract",settings:J,options:["Part Time","Full Time","Contract"]}),Object(x.jsxs)("div",{className:"checkbox-group",children:[Object(x.jsx)("label",{children:"Languages"}),Object(x.jsx)("div",{className:"language-checkboxes checkbox-grouping",children:["HTML","CSS","JavaScript","Python"].map((function(e,t){return Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"checkbox",name:e,value:e}),Object(x.jsx)("label",{name:e,children:e})," "]},e)}))})]}),Object(x.jsxs)("div",{className:"checkbox-group",children:[Object(x.jsx)("label",{children:"Tools"}),Object(x.jsx)("div",{className:"tool-checkboxes checkbox-grouping",children:["SASS","React","Vue","Django","Ruby"].map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"checkbox",name:e,value:e}),Object(x.jsx)("label",{name:e,children:e})," "]},e)}))})]}),Object(x.jsxs)("section",{className:"flex mt-12",children:[Object(x.jsx)("button",{children:"Create"}),Object(x.jsx)("div",{className:"btn--close",onClick:U,children:"Cancel"})]})]})]})},_=function(e){var t=e.type,c=e.message;return Object(x.jsx)("div",{className:"notification ".concat(t),children:c})};var D=function(){var e=Object(l.b)(),t=Object(n.useState)(!1),c=Object(o.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)(null),i=Object(o.a)(s,2),j=i[0],d=i[1];Object(n.useEffect)((function(){e(function(){var e=Object(b.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://mini-job-board.herokuapp.com/api/jobs");case 2:c=e.sent,t({type:"INITIALIZE",data:c.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(n.useEffect)((function(){document.body.classList.toggle("noScroll",a)}),[a]);var h=function(){r(!a)};return j&&setTimeout((function(){d(null)}),5e3),Object(x.jsxs)("div",{className:"App",children:[j?Object(x.jsx)(_,{message:j[1],type:j[0]}):null,Object(x.jsx)(f,{toggleForm:h}),Object(x.jsx)(S,{noScroll:a}),Object(x.jsx)(I,{show:a,setNotification:d,toggleForm:h})]})},J=c(7),P=c(31),M=c(32),q=Object(J.combineReducers)({jobs:h,filter:p}),W=Object(J.createStore)(q,Object(P.composeWithDevTools)(Object(J.applyMiddleware)(M.a))),U=(c(63),function(){s.a.render(Object(x.jsx)(l.a,{store:W,children:Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(D,{})})}),document.getElementById("root"))});U(),W.subscribe(U)}},[[64,1,2]]]);
//# sourceMappingURL=main.31dc7c33.chunk.js.map